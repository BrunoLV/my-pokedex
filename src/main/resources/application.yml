micronaut:
  application:
    name: my-pokedex
  router:
    static-resources:
      swagger-ui:
        paths: classpath:META-INF/swagger/views/swagger-ui
        mapping: /swagger-ui/**
      swagger:
        paths: classpath:META-INF/swagger
        mapping: /swagger/**
      openapi-explorer:
        paths: classpath:META-INF/swagger/views/openapi-explorer
        mapping: /openapi-explorer/**
datasources:
  default:
    driver-class-name: com.mysql.cj.jdbc.Driver
    db-type: mysql
    url: ${DATASOURCES_DEFAULT_URL:jdbc:mysql://localhost:3306/mypokedex}
    username: ${DATASOURCES_DEFAULT_USERNAME:pokedex}
    password: ${DATASOURCES_DEFAULT_PASSWORD:pokedex}
    schema-generate: NONE # safer default for local/dev; change to CREATE or CREATE_DROP if you need auto schema generation
    dialect: MYSQL
    dialect-copy: MYSQL
    # Hikari pool settings
    maximumPoolSize: ${DATASOURCES_DEFAULT_MAX_POOL_SIZE:10}
    minimumIdle: ${DATASOURCES_DEFAULT_MIN_IDLE:2}
    connectionTimeout: ${DATASOURCES_DEFAULT_CONNECTION_TIMEOUT:30000}

redis:
  host: ${REDIS_HOST:localhost}
  port: ${REDIS_PORT:6379}
  ttl-seconds: ${REDIS_TTL_SECONDS:604800}
  timeout-ms: ${REDIS_TIMEOUT_MS:2000}
cache:
  strategy: ${CACHE_STRATEGY:caffeine}

wait.for.db:
  enabled: ${WAIT_FOR_DB:true}
  max-retries: ${WAIT_FOR_DB_MAX_RETRIES:30}
  wait-seconds: ${WAIT_FOR_DB_WAIT_SECONDS:2}
